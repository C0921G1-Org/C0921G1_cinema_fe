<body class="body-AnhVN">
<div class="container">
  <h2 style="margin-top: 20px;margin-left: 20px;text-align: center;"><strong>Quản Lí Đặt Vé</strong></h2>
  <hr>
</div>
<div class="container">
  <div class="table-responsive">
    <div class="table-wrapper">
      <div class="table-title" style="background: #f28123">
        <div class="row">
          <div class="col-lg-3">
            <h2>Vé Phim <b>C09</b></h2>
          </div>
          <div class="col-lg-8">
            <div style="display: flex; float: left !important; margin-left: 25px">
              <div>
                <input type="text" [(ngModel)]="name"
                       name="key" id="searchName" class="form-control" placeholder="Nhập tên"
                       style="height: 46px; width: 200px;margin-left: 10px">
              </div>
              <div>
                <input type="text" [(ngModel)]="code"
                       name="key" id="code" class="form-control" placeholder="Nhập mã đặt vé"
                       style="height: 46px; width: 200px;margin-left: 10px">
              </div>
              <div>
                <input type="text" [(ngModel)]="member_id"
                       name="key" id="member_id" class="form-control" placeholder="Nhập mã thành viên"
                       style="height: 46px; width: 200px;margin-left: 10px">
              </div>
              <div>
                <input type="text" [(ngModel)]="phone"
                       name="key" id="phone" class="form-control" placeholder="Nhập số điện thoại"
                       style="height: 46px; width: 200px;margin-left: 10px">
              </div>
              <div>
                <button class="btn btn-default" type="submit" (click)="searchBookingTicket()"
                        style="margin-left: 10px; height: 100%; border-radius: 5px"><i
                  class="glyphicon glyphicon-search"
                  style="height: 46px">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                       fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path
                      d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                  </svg>
                </i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <table class="table table-striped table-hover">
        <thead>
        <tr>
          <th>#</th>
          <th>Mã đặt vé</th>
          <th>Mã thành viên</th>
          <th>Họ tên</th>
          <th>CMND</th>
          <th>Số điện thoại</th>
          <th>Phim</th>
          <th>Suất chiếu</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let t of transactions; index as i ">
          <td>{{t.id}}</td>
          <td>{{t.code}}</td>
          <td>{{t.member.id}}</td>
          <td>{{t.member.name}}</td>
          <td>{{t.member.identityNumber}}</td>
          <td>{{t.member.phone}}</td>
          <td>{{t.showTime.film.name}}</td>
          <td>{{t.showTime.name}} | {{t.showTime.date |  date:"dd-MM-yyyy"}} </td>
          <td>
            <div *ngIf="t.checkAcceptTicket == 0">
              <a type="button" class="btn anh_custom-button" [routerLink]="['/booking/confirm-booking/'+ t.id]">Nhận
                vé</a>

            </div>
            <div *ngIf="t.checkAcceptTicket == 1">
              <a type="button" class="accept-button-AnhVn1">Đã Nhận Vé</a>

            </div>
          </td>
        </tr>
        </tbody>
      </table>
      <h1 style="color: red; text-align: center; margin-top:100px" *ngIf="totalPage == 0"><strong>Không tìm
        thấy !</strong>
      </h1>
    </div>
  </div>
  <!--  Phân trang-->
  <div class="row">
    <div class="col-lg-12 float-end">
      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-end">
          <li class="page-item disabled"><a class="anh_custom-button btn" (click)="previousPage()"
                                            *ngIf="pageable != 0">Trước</a></li>
          <li class="page-item" style="background: #dbd6d2"><a>{{pageable + 1}}/{{totalPage}}</a></li>
          <li class="page-item"><a class="anh_custom-button btn" (click)="nextPage() "
                                   *ngIf="pageable < totalPage -1">Sau</a></li>
        </ul>
      </nav>
    </div>
  </div>
</div>

</body>
